{"version":3,"sources":["Create.js","My.js","Home.js","Login.js","CreateVote.js","ViewVote.js","Register.js","App.js","serviceWorker.js","index.js"],"names":["Create","className","DiffTwoTone","to","My","setUserInfo","history","useHistory","useState","myVotes","setMyVotes","useEffect","axios","get","then","res","data","elementLi","h","offsetHeight","length","elementUl","setAttribute","document","getElementsByClassName","getElementById","id","style","height","map","vote","idx","key","title","onClick","delete","filter","_","index","handleDeleteOption","DeleteTwoTone","type","size","push","Home","url","useRouteMatch","path","exact","activeClassName","FolderAddFilled","IdcardFilled","Login","nameRef","useRef","passwordRef","e","a","preventDefault","post","name","current","state","value","password","console","log","alert","ref","prefix","UserOutlined","placeholder","LockOutlined","CreateSingleVote","query","URLSearchParams","useLocation","search","options","setOptions","useInput","desc","deadline","setDeadline","anonymous","useBoolean","isMultiple","dateTime","Date","toISOString","voteId","toString","setDate","getDate","toLocaleString","setTimeout","Ul","Li","onChange","it","MinusCircleFilled","persist","slice","target","PlusCircleFilled","disabledDate","moment","add","startOf","format","date","dateString","checkedChildren","unCheckedChildren","checked","valuechecked","toggle","ViewVote","groupedVotings","uniqueUsersCount","thisVoting","userInfo","useParams","loading","setLoading","voteInfo","setVoteInfo","votings","setVotings","optionId","hasVoted","Multiple","now","getTime","filterVotings","userId","avatar","isVoteDown","uniqBy","groupBy","ws","WebSocket","window","location","host","onmessage","JSON","parse","close","option","hasCurrUserVoted","currVotings","find","voteUp","content","calcuRatio","width","voting","src","num","base","toFixed","getBase64","img","callback","reader","FileReader","addEventListener","result","readAsDataURL","beforeUpload","file","isJpgOrPng","message","error","isLt2M","Avatar","handleChange","info","status","originFileObj","imageUrl","setState","this","uploadButton","LoadingOutlined","PlusOutlined","marginTop","listType","showUploadList","action","alt","React","Component","Register","emailRef","formData","FormData","append","undefined","response","method","encType","MailOutlined","App","catch","Boolean","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","registration","unregister"],"mappings":"ybAQe,SAASA,IACtB,OACE,6BACE,yBAAKC,UAAU,YACb,kBAAEC,EAAA,EAAF,MACF,kBAAC,IAAD,CAAMC,GAAG,gBAAe,2DAExB,yBAAKF,UAAU,YACb,kBAAEC,EAAA,EAAF,MACF,kBAAC,IAAD,CAAMC,GAAG,2BAA0B,4D,4BCR1B,SAASC,EAAT,GAA4B,IAAfC,EAAc,EAAdA,YACtBC,EAAUC,cAD0B,EAEbC,mBAAS,IAFI,mBAEnCC,EAFmC,KAE3BC,EAF2B,KASxCC,qBAAU,WACRC,IAAMC,IAAI,YAAYC,MAAK,SAAAC,GACzBL,EAAWK,EAAIC,WAEhB,IACHL,qBAAU,WACR,GAAIM,EAAU,GAAI,CAChB,IAAIC,EAAID,EAAU,GAAGE,aACrBD,GAAMD,EAAUG,OAChBC,EAAUC,aAAa,QAAvB,iBAA0CJ,EAA1C,YAIJ,IAAID,EAAYM,SAASC,uBAAuB,eAC5CH,EAAYE,SAASE,eAAe,YASxC,OACE,yBAAKxB,UAAU,YACb,iFACA,yBAAKA,UAAU,iBACf,yBAAKyB,GAAG,WAAWC,MAAO,CAACC,OAAO,MAE9BnB,EAAQoB,KAAI,SAACC,EAAKC,GAChB,OACA,wBAAI9B,UAAU,cAAc+B,IAAKD,GAC/B,kBAAC,IAAD,CAAM5B,GAAE,gBAAW2B,EAAKJ,KAAM,8BAAOI,EAAKG,QAC1C,yBAAKC,QAAS,WAhB1B,IAAoBR,IAgBsBI,EAAKJ,GAf7Cd,IAAMuB,OAAN,gBAAsBT,IAAMZ,OAE9B,SAA4BiB,GAC1BrB,EAAWD,EAAQ2B,QAAO,SAACC,EAAGC,GAAJ,OAAcP,IAAQO,MAYCC,CAAmBR,KAC1D,kBAACS,EAAA,EAAD,MAAiB,mDAOzB,kBAAC,IAAD,CAAQC,KAAK,UAAUC,KAAK,QAAQR,QA/CxC,WACEtB,IAAMC,IAAI,YAAYC,MAAK,WACzBT,EAAY,MACZC,EAAQqC,KAAK,eA4Cb,kB,sBCjDS,SAASC,EAAT,GAA6B,IAAdvC,EAAa,EAAbA,YACvBwC,EAAOC,cAAPD,IAKL,OACE,6BACE,kBAAC,IAAD,CAAOE,KAAI,UAAKF,EAAL,KAAaG,OAAK,GAC3B,kBAAC,IAAD,CAAU7C,GAAE,UAAK0C,EAAL,cAEd,kBAAC,IAAD,CAAOE,KAAI,UAAKF,EAAL,YACT,kBAAC7C,EAAD,OAEF,kBAAC,IAAD,CAAO+C,KAAI,UAAKF,EAAL,QACT,kBAAC,EAAD,CAAIxC,YAAaA,KAGnB,yBAAKJ,UAAU,YACb,kBAAC,IAAD,CAASA,UAAU,cAAcgD,gBAAgB,SAAS9C,GAAE,UAAK0C,EAAL,YAC1D,kBAACK,EAAA,EAAD,MADF,gBAKA,kBAAC,IAAD,CAASjD,UAAU,UAAUgD,gBAAgB,SAAS9C,GAAE,UAAK0C,EAAL,QACtD,kBAACM,EAAA,EAAD,MADF,kB,+DC3BO,SAASC,EAAT,GAA8B,IAAd/C,EAAa,EAAbA,YACzBgD,EAAUC,mBACVC,EAAcD,mBACdhD,EAAUC,cAH4B,4CAK1C,WAA2BiD,GAA3B,eAAAC,EAAA,6DACED,EAAEE,iBADJ,kBAGkB9C,IAAM+C,KAAK,SAAS,CAClCC,KAAKP,EAAQQ,QAAQC,MAAMC,MAC3BC,SAAST,EAAYM,QAAQC,MAAMC,QALvC,OAGMhD,EAHN,OAOEV,EAAYU,EAAIC,MAChBV,EAAQqC,KAAK,KARf,gDAUEsB,QAAQC,IAAR,MACAC,MAAM,oDAXR,0DAL0C,sBAuB1C,OAEE,yBAAKzC,GAAG,gBACN,0BAAMA,GAAG,SACP,kBAAC,IAAD,CAAOe,KAAK,OAAO2B,IAAKf,EACxBgB,OAAQ,kBAACC,EAAA,EAAD,CAAerE,UAAU,wBACjCsE,YAAY,uBAEZ,kBAAC,IAAD,CAAO9B,KAAK,WAAW2B,IAAKb,EAC3Bc,OAAQ,kBAACG,EAAA,EAAD,CAAcvE,UAAU,wBAChCsE,YAAY,iBAEb,kBAAC,IAAD,CAAQ9B,KAAK,UAAUxC,UAAU,oBAAoBiC,QAnCjB,6CAmCpC,gBACA,kBAAC,IAAD,CAAQO,KAAK,UAAUxC,UAAU,oBAAoBiC,QAjB5D,SAAkBsB,GACjBA,EAAEE,iBACFpD,EAAQqC,KAAK,eAeP,kB,0FC9BO,SAAS8B,IACtB,IAAIC,EAJG,IAAIC,gBAAgBC,cAAcC,QAGD,EAGbrE,mBAAS,CAAC,GAAG,KAHA,mBAGnCsE,EAHmC,KAG3BC,EAH2B,KAIpC9C,EAAQ+C,cACRC,EAAOD,cAL6B,EAMXxE,mBAAS,IANE,mBAMnC0E,EANmC,KAM1BC,EAN0B,KAOpCC,EAAYC,cACZ/E,EAAUC,cACV+E,EAAaD,YAAqC,MAA1BX,EAAM7D,IAAI,aAChC0E,EAAW,IAAIC,KAVmB,4CAoBxC,4BAAA/B,EAAA,+EAGoB7C,IAAM+C,KAAK,QAAS,CAClC1B,MAAOA,EAAM8B,MACbkB,KAAMA,EAAKlB,MACXe,QAASA,EACTI,SAAU,IAAIM,KAAKN,GAAUO,cAC7BL,UAAWA,EAAUrB,MAAQ,EAAI,EACjCuB,WAAYA,EAAWvB,MAAQ,EAAI,IATzC,OAGQhD,EAHR,OAWIT,EAAQqC,KAAK,SAAS5B,EAAIC,KAAK0E,QAXnC,gDAaIvB,MAAM,2BAAS,KAAEwB,YAbrB,0DApBwC,sBA2DxC,OAhDEJ,EAAWA,EAASK,QAAQL,EAASM,UAAU,GAC/CN,EAAW,IAAIC,KAAKD,GAAUO,iBA+BhCnF,qBAAU,WACRoF,YACE,WACE,IAAIC,EAAKzE,SAASE,eAAe,aAC7BwE,EAAK1E,SAASC,uBAAuB,aAGzC,GAAIyE,EAAG,GAAI,CACT,IAAI/E,EAAI+E,EAAG,GAAG9E,aACdD,GAAQ+E,EAAG7E,OACX4E,EAAG1E,aAAa,QAAhB,iBAAmCJ,EAAnC,WAEF,QAKJ,yBAAKjB,UAAU,gBACb,wDACA,wBAAIA,UAAU,YAAW,kBAAC,IAAD,CAAQwC,KAAK,OAAOsB,MAAO9B,EAAM8B,MAAOmC,SAAUjE,EAAMiE,SAAU3B,YAAY,8BACvG,wBAAItE,UAAU,WAAU,kBAAC,IAAD,CAAOwC,KAAK,OAAOsB,MAAOkB,EAAKlB,MAAOmC,SAAUjB,EAAKiB,SAAU3B,YAAY,sDACnG,yBAAK7C,GAAG,YAAYC,MAAO,CAACC,OAAO,UAE/BkD,EAAQjD,KAAI,SAACsE,EAAGpE,GACd,OAAO,wBAAIC,IAAQD,EAAK9B,UAAU,aAChC,yBAAKA,UAAU,OAAOiC,QAAS,kBAtD3C,SAA4BH,GACJ,IAAnB+C,EAAQ1D,QAGX2D,EAAWD,EAAQ1C,QAAO,SAACC,EAAEC,GAAH,OAAaP,IAAOO,MAkDCC,CAAmBR,KAAM,kBAACqE,EAAA,EAAD,OAC9D,kBAAE,IAAF,CAAQ3D,KAAO,OACfsB,MAAOoC,EACP5B,YAAc,eACd2B,SACE,SAAC1C,GACAA,EAAE6C,UAAUtB,EAAW,GAAD,mBAAKD,EAAQwB,MAAM,EAAGvE,IAAtB,CAA4ByB,EAAE+C,OAAOxC,OAArC,YAA+Ce,EAAQwB,MAAMvE,EAAM,cAQpG,yBAAK9B,UAAY,aAAaiC,QAAS,kBAAM6C,EAAW,GAAD,mBAAKD,GAAL,CAAa,QAAM,kBAAC0B,EAAA,EAAD,MAA1E,wCAEA,yBAAK9E,GAAG,aACR,4BAAI,gEAAkB,kBAAC,IAAD,CAAY6C,YAAagB,EAAUkB,aAjD7D,SAAsB5C,GACpB,OAAOA,GAAW6C,MAASC,IAAI,EAAE,QAAQC,QAAQ,QAgDsCC,OAAO,sBAAsBX,SA9CtH,SAAsBY,EAAKC,GAEzB5B,EAAY4B,OA6CV,6DACE,kBAAC,IAAD,CAAQC,gBAAgB,eAAKC,kBAAkB,eAAKC,QAAS9B,EAAU+B,aAAcjF,QAASkD,EAAUgC,UAC1G,wBAAI1F,GAAG,YAAP,qBACE,kBAAC,IAAD,CAAQsF,gBAAgB,eAAKC,kBAAkB,eAAKC,QAAS5B,EAAWvB,MAAO7B,QAASoD,EAAW8B,WAGrG,wBAAInH,UAAU,cAAa,kBAAC,IAAD,CAAQwC,KAAK,UAAUxC,UAAU,oBAAoBiC,QA5F5C,4CA4FT,kB,4BChGlB,SAASmF,EAAT,GAA8B,IAQvCC,EACAC,EACAC,EAV4BC,EAAU,EAAVA,SAC3B/F,EAAMgG,cAANhG,GADqC,EAEdlB,oBAAS,GAFK,mBAErCmH,EAFqC,KAE5BC,EAF4B,OAGZpH,mBAAS,MAHG,mBAGrCqH,EAHqC,KAG3BC,EAH2B,OAIftH,mBAAS,MAJM,mBAIrCuH,EAJqC,KAI7BC,EAJ6B,KAK3BpD,cAL2B,4CA6C1C,WAAsBqD,EAASC,EAASC,GAAxC,mBAAA1E,EAAA,2DACK+B,KAAK4C,MAAQ,IAAI5C,KAAKqC,EAAS3C,UAAUmD,WAD9C,uBAEIlE,MAAM,8CAFV,iCAQKgE,EACGD,GAWEI,EAAgBP,EAAQ3F,QAAO,SAAA+D,GACjC,QAASA,EAAGoC,SAAWd,EAAS/F,IAAMuG,IAAa9B,EAAG8B,aAExDD,EAAWM,KAbXd,EAAa,CACX9F,IAAI,EACJuG,SAASA,EACTvC,OAAQhE,EACR6G,OAAQd,EAAS/F,GACjB8G,OAAOf,EAASe,QAGlBR,EAAW,GAAD,mBAAKD,GAAL,CAAaP,MAQrBU,GAiBEI,EAAgBP,EAAQ3F,QAAO,SAAA+D,GACjC,QAASA,EAAGoC,SAAWd,EAAS/F,IAAMuG,IAAa9B,EAAG8B,aAExDD,EAAWM,KAnBXd,EAAa,CACX9F,IAAI,EACJuG,SAASA,EACTvC,OAAQhE,EACR6G,OAAQd,EAAS/F,GACjB8G,OAAOf,EAASe,QAIdF,EAAgBP,EAAQ3F,QAAO,SAAA+D,GACjC,QAASA,EAAGoC,SAAWd,EAAS/F,OAGlCsG,EAAW,GAAD,mBAAKM,GAAL,CAAmBd,MAxCnC,SAkDQ5G,IAAM+C,KAAN,kBAAsBjC,GAAK,CAC/BuG,WACAQ,WAAWP,IACVpH,MAAK,SAAAC,OArDV,4CA7C0C,sBAyG1C,OA9FI4G,IAEFJ,EAAmBmB,iBAAOb,EAASE,QAAQ,UAAU3G,OACrDkG,EAAiBqB,kBAAQZ,EAAS,aAIpCpH,qBAAU,WAERmH,EAAY,MACZF,GAAW,GACXhH,IAAMC,IAAN,gBAAmBa,IAAMZ,MAAK,SAACC,GAE7B+G,EAAY/G,EAAIC,MAChBgH,EAAWjH,EAAIC,KAAK+G,SACpBH,GAAW,QAEZ,CAAClG,IAEJf,qBAAU,WAER,GAAGkH,GACErC,KAAK4C,MAAQ,IAAI5C,KAAKqC,EAAS3C,UAAUmD,UAAU,CACpDpE,QAAQC,IAAI,+BAEZ,IAAI0E,EAAK,IAAIC,UAAJ,eAAsBC,OAAOC,SAASC,KAAtC,iBAAmDtH,IAI5D,OAHAkH,EAAGK,UAAY,SAAAzF,GACbwE,EAAWkB,KAAKC,MAAM3F,EAAExC,QAEnB,kBAAM4H,EAAGQ,YAGpB,CAAC1H,EAAGmG,IA8DFF,EACK,2CAKP,6BACE,wBAAI1H,UAAU,cAAc4H,EAAS5F,OACrC,uBAAGhC,UAAU,aAAa4H,EAAS5C,KACnC,8BAAO4C,EAASvC,WAAa,iBAAO,mBAEpC,4BAGIuC,EAAS/C,QAAQjD,KAAI,SAACwH,GACpB,IAIIC,EAJAC,EAAcjC,EAAe+B,EAAO3H,KAAO,GAW/C,OALE4H,IAAqBC,EAAYC,MAAK,SAAArD,GAAE,OAAIA,EAAGoC,SAAWd,EAAS/F,MAK5D,wBAAIzB,UAAU,eAAe+B,IAAKqH,EAAO3H,GAAIQ,QAAS,kBAnI/B,+CAmIqCuH,CAAOJ,EAAO3H,GAAG4H,EAAiBzB,EAASvC,cACxG,yBAAKrF,UAAU,aACb,yBAAKA,UAAU,eACb,6BACE,kBAAE,IAAF,CACAiH,QACEoC,IAGF,0BAAMrJ,UAAU,eAAeoJ,EAAOK,UAEtC,gCACA,8BAAOH,EAAYnI,OAAnB,UAAkC,8BAAOuI,EAAWJ,EAAYnI,OAASmG,GAAvC,MAEpC,yBAAKtH,UAAU,eAAe0B,MAAO,CAACiI,MAAMD,EAAWJ,EAAYnI,OAASmG,GAAoB,SAGlG,wBAAItH,UAAU,WAEVsJ,EAAY1H,KAAI,SAAAgI,GACd,OAAO,wBAAI7H,IAAK6H,EAAOrB,QAAQ,yBAAKvI,UAAU,SAAS6J,IAAKD,EAAOrB,mBAQzF,4DAAS,IAAIhD,KAAKqC,EAAS3C,UAAUY,mBAO3C,SAAS6D,EAAWI,EAAKC,GACvB,OAAa,IAATA,EACK,EAEFD,EAAMC,EAAO,KAAO,IAAM,KAAUD,EAAMC,EAAO,KAAKC,QAAQ,G,qFCpKnEzB,G,OAAS,IACb,SAAS0B,EAAUC,EAAKC,GACtB,IAAMC,EAAS,IAAIC,WACnBD,EAAOE,iBAAiB,QAAQ,kBAAMH,EAASC,EAAOG,WACtDH,EAAOI,cAAcN,GAGvB,SAASO,EAAaC,GACpB,IAAMC,EAA2B,eAAdD,EAAKlI,MAAuC,cAAdkI,EAAKlI,KACtD+F,EAAOmC,KAAOA,EACTC,GACHC,IAAQC,MAAM,qCAEhB,IAAMC,EAASJ,EAAKjI,KAAO,KAAO,KAAO,EAKzC,OAJKqI,GACHF,IAAQC,MAAM,gCAEhBtC,EAAOmC,KAAOA,EACPC,GAAcG,E,IAEbC,E,4MACRlH,MAAQ,CACN6D,SAAS,G,EAGXsD,aAAe,SAAAC,GACY,cAArBA,EAAKP,KAAKQ,QAIW,SAArBD,EAAKP,KAAKQ,QAEZjB,EAAUgB,EAAKP,KAAKS,eAAe,SAAAC,GAAQ,OACzC,EAAKC,SAAS,CACZD,WACA1D,SAAS,OAIf1D,QAAQC,IAAIsE,IAZV,EAAK8C,SAAS,CAAE3D,SAAS,K,uDAenB,IAAD,EACuB4D,KAAKzH,MAA3B6D,EADD,EACCA,QAAS0D,EADV,EACUA,SACXG,EACJ,6BACG7D,EAAU,kBAAC8D,EAAA,EAAD,MAAsB,kBAACC,EAAA,EAAD,MACjC,yBAAK/J,MAAO,CAAEgK,UAAW,IAAzB,WAGJ,OACE,kBAAC,IAAD,CACE/H,KAAK,SACLgI,SAAS,eACT3L,UAAU,kBACV4L,gBAAgB,EAChBC,OAAO,mDACPpB,aAAcA,EACdxE,SAAUqF,KAAKN,cAEdI,EAAW,yBAAKvB,IAAKuB,EAAUU,IAAI,SAASpK,MAAO,CAAEiI,MAAO,UAAe4B,O,GAxC3DQ,IAAMC,WA+ChB,SAASC,GAAT,GAAgC,EAAb7L,YAAc,IAC1CgD,EAAUC,iBAAO,MACjBC,EAAcD,iBAAO,MACrB6I,EAAW7I,iBAAO,MAClBhD,EAAUC,cAJ+B,4CAM7C,WAA8BiD,GAA9B,eAAAC,EAAA,yDACED,EAAEE,kBACE0I,EAAW,IAAIC,UACVC,OAAO,OAAQjJ,EAAQQ,QAAQC,MAAMC,OAC9CqI,EAASE,OAAO,WAAY/I,EAAYM,QAAQC,MAAMC,OACtDqI,EAASE,OAAO,QAASH,EAAStI,QAAQC,MAAMC,OAChDqI,EAASE,OAAO,SAAU9D,EAAOmC,WACG4B,IAAhClJ,EAAQQ,QAAQC,MAAMC,YAA2DwI,IAApChJ,EAAYM,QAAQC,MAAMC,YACnCwI,IAAjCJ,EAAStI,QAAQC,MAAMC,MARhC,uBASQI,MAAM,0DATd,oDAaYvD,IAAM+C,KAAK,YAAYyI,GAAUtL,MACrC,SAAS0L,GACPvI,QAAQC,IAAIsI,GACZrI,MAAM,oDACN7D,EAAQqC,KAAK,aAjBvB,0DAoBEsB,QAAQC,IAAR,MApBF,2DAN6C,sBA6B7C,OAEE,yBAAKxC,GAAG,mBACN,0BAAMA,GAAG,WAAW+K,OAAO,OAAOX,OAAO,YAAYY,QAAQ,sBAC3D,kBAAC,IAAD,CAAOjK,KAAK,OAAO2B,IAAKf,EACxBgB,OAAQ,kBAACC,EAAA,EAAD,CAAerE,UAAU,wBACjCsE,YAAY,uBAEZ,kBAAC,IAAD,CAAO9B,KAAK,OAAO2B,IAAK+H,EACvB9H,OAAQ,kBAACsI,EAAA,EAAD,CAAc1M,UAAU,wBAChCsE,YAAY,iBAEb,kBAAC,IAAD,CAAO9B,KAAK,WAAW2B,IAAKb,EAC3Bc,OAAQ,kBAACG,EAAA,EAAD,CAAcvE,UAAU,wBAChCsE,YAAY,iBAEb,kBAAC,EAAD,CAAQX,KAAK,WAEb,kBAAC,IAAD,CAAQnB,KAAK,UAAUxC,UAAU,oBAAoBiC,QA/Cd,6CA+CvC,kBCpEO0K,OA9Cf,WACE,IAAItM,EAAUC,cADD,EAEgBC,mBAAS,IAFzB,mBAERiH,EAFQ,KAECpH,EAFD,KAab,OAVAM,qBAAU,WACRC,IAAMC,IAAI,aAAaC,MAAK,SAAAC,GAE1BV,EAAYU,EAAIC,SACf6L,OAAM,SAAArJ,GAEPlD,EAAQqC,KAAK,eAEf,IAGE,yBAAK1C,UAAU,OACf,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO8C,KAAK,IAAIC,OAAK,GACnB,kBAAC,IAAD,CAAU7C,GAAG,UAGf,kBAAC,IAAD,CAAO4C,KAAK,UACV,kBAACK,EAAD,CAAO/C,YAAaA,KAEtB,kBAAC,IAAD,CAAO0C,KAAK,aACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,SAER0E,GACF,kBAAC7E,EAAD,CAAM6E,SAAUA,EAAWpH,YAAaA,KAG1C,kBAAC,IAAD,CAAO0C,KAAK,gBACV,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,aAER0E,GACF,kBAAC,EAAD,CAAUA,SAAUA,QCzCVqF,QACW,cAA7BhE,OAAOC,SAASgE,UAEe,UAA7BjE,OAAOC,SAASgE,UAEhBjE,OAAOC,SAASgE,SAASC,MACvB,2DCZNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACG,kBAAC,IAAD,KACE,kBAAC,GAAD,QAGL5L,SAASE,eAAe,SDuHpB,kBAAmB2L,WACrBA,UAAUC,cAAcC,MACrBxM,MAAK,SAAAyM,GACJA,EAAaC,gBAEdX,OAAM,SAAA/B,GACL7G,QAAQ6G,MAAMA,EAAMD,c","file":"static/js/main.cef2d3b9.chunk.js","sourcesContent":["import React from 'react'\r\nimport './create.css'\r\nimport {Link} from 'react-router-dom'\r\nimport {\r\n  DiffTwoTone\r\n}\r\nfrom '@ant-design/icons';\r\n\r\nexport default function Create(){\r\n  return(\r\n    <div>\r\n      <div className='img img1'>\r\n        < DiffTwoTone />\r\n      <Link to=\"/create-vote\"><div>创建单选</div></Link>\r\n      </div>\r\n      <div className='img img2'>\r\n        < DiffTwoTone />\r\n      <Link to=\"/create-vote?multiple=1\"><div>创建多选</div></Link>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n","import React,{useState,useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport {useHistory,Link} from 'react-router-dom'\r\nimport './My.scss'\r\nimport{\r\n DeleteTwoTone\r\n} from '@ant-design/icons'\r\nimport {Button} from 'antd';\r\n\r\nexport default function My({setUserInfo}) {\r\n  let history = useHistory()\r\n  let [myVotes,setMyVotes] = useState([])\r\n  function logout() {\r\n    axios.get('./logout').then(() => {\r\n      setUserInfo(null)\r\n      history.push('/login')\r\n    })\r\n  }\r\n  useEffect(() => {\r\n    axios.get('/myvotes').then(res => {\r\n      setMyVotes(res.data)\r\n    })\r\n  }, [])\r\n  useEffect(() => {\r\n    if (elementLi[0]) {\r\n      let h = elementLi[0].offsetHeight\r\n      h = h*elementLi.length\r\n      elementUl.setAttribute('style', `height:${h}px;`);\r\n    }\r\n  })\r\n\r\n  let elementLi = document.getElementsByClassName('my-votes-li')\r\n  let elementUl = document.getElementById('votes-ul')\r\n\r\n  //删除用户投票\r\n  function deletevote(id){\r\n    axios.delete(`/vote/${id}`).then()\r\n  }\r\n  function handleDeleteOption(idx){\r\n    setMyVotes(myVotes.filter((_, index) => idx !== index))\r\n  }\r\n  return (\r\n    <div className='my-votes'>\r\n      <div>我创建的投票列表</div>\r\n      <div className='my-votes-list'>\r\n      <div id='votes-ul' style={{height:'0'}}>\r\n        {\r\n          myVotes.map((vote,idx) => {\r\n            return (\r\n            <li className='my-votes-li' key={idx}>\r\n              <Link to={`/vote/${vote.id}`}><span>{vote.title}</span></Link>\r\n              <div onClick={()=>{deletevote(vote.id);handleDeleteOption(idx)}}>\r\n              <DeleteTwoTone /><div>删除</div>\r\n              </div>\r\n            </li>\r\n            )\r\n          })\r\n        }\r\n      </div>\r\n      <Button type=\"primary\" size=\"large\" onClick={logout}>登出</Button>\r\n      </div>\r\n    </div>\r\n )\r\n}\r\n","import React from 'react'\r\nimport {useRouteMatch,Route,Redirect,NavLink} from 'react-router-dom'\r\nimport Create from './Create'\r\nimport My from './My'\r\nimport {\r\n  FolderAddFilled,\r\n  IdcardFilled\r\n} from '@ant-design/icons'\r\n\r\n\r\nexport default function Home({setUserInfo}){\r\n  let {url} = useRouteMatch()\r\n\r\n\r\n\r\n\r\n  return(\r\n    <div>\r\n      <Route path={`${url}/`} exact>\r\n        <Redirect to={`${url}/create`} />\r\n      </Route>\r\n      <Route path={`${url}/create`}>\r\n        <Create />\r\n      </Route>\r\n      <Route path={`${url}/my`}>\r\n        <My setUserInfo={setUserInfo}/>\r\n      </Route>\r\n\r\n      <div className=\"foot-bar\">\r\n        <NavLink className='fb f-create' activeClassName=\"active\" to={`${url}/create`}>\r\n          <FolderAddFilled />\r\n          新建\r\n          </NavLink>\r\n\r\n        <NavLink className='fb f-my' activeClassName=\"active\" to={`${url}/my`}>\r\n          <IdcardFilled />\r\n          我的\r\n          </NavLink>\r\n      </div>\r\n\r\n\r\n\r\n      {/* <div><Link to=\"/create-vote\">创建单选</Link></div>\r\n      <div><Link to=\"/create-vote?multiple=1\">创建多选</Link></div>\r\n      <button onClick={logout}>登出</button> */}\r\n    </div>\r\n  )\r\n}\r\n","import React,{useRef} from 'react'\r\nimport axios from 'axios'\r\nimport { useHistory} from 'react-router-dom'\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\r\nimport {Input,Button} from 'antd'\r\nimport './login.scss'\r\n\r\nexport default function Login({setUserInfo}){\r\n  let nameRef = useRef()\r\n  let passwordRef = useRef()\r\n  let history = useHistory()\r\n\r\n  async function handleLogin(e){\r\n    e.preventDefault()\r\n    try{\r\n    let res = await axios.post('/login',{\r\n      name:nameRef.current.state.value,\r\n      password:passwordRef.current.state.value\r\n    })\r\n    setUserInfo(res.data)\r\n    history.push('/')\r\n  } catch (e){\r\n    console.log(e)\r\n    alert('用户名或密码错误')\r\n  }\r\n}\r\n function register(e){\r\n  e.preventDefault()\r\n  history.push('/Register')\r\n}\r\n  return(\r\n\r\n    <div id=\"login-father\">\r\n      <form id=\"login\">\r\n        <Input type=\"text\" ref={nameRef}\r\n        prefix={<UserOutlined  className=\"site-form-item-icon\"/>}\r\n        placeholder=\"用户名\"\r\n        />\r\n        <Input type=\"password\" ref={passwordRef}\r\n         prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n         placeholder=\"密码\"\r\n         />\r\n        <Button type=\"primary\" className=\"login-form-button\" onClick={handleLogin}>登录</Button>\r\n        <Button type=\"primary\" className=\"login-form-button\" onClick={register}>注册</Button>\r\n      </form>\r\n    </div>\r\n\r\n  )\r\n}\r\n","import React,{useState,useEffect} from 'react'\r\nimport {useInput,useBoolean} from 'react-hanger'\r\nimport axios from 'axios'\r\nimport moment from 'moment'\r\nimport {Input,Button,Switch, DatePicker} from 'antd'\r\nimport {MinusCircleFilled,PlusCircleFilled} from '@ant-design/icons'\r\nimport \"./createVote.scss\"\r\nimport {useHistory, useLocation} from 'react-router-dom'\r\n\r\nfunction useQuery(){\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nexport default function CreateSingleVote(){\r\n  let query = useQuery()\r\n\r\n  let [options,setOptions] = useState(['',''])\r\n  let title = useInput()\r\n  let desc = useInput()\r\n  let [deadline,setDeadline] = useState('')\r\n  let anonymous = useBoolean()\r\n  let history = useHistory()\r\n  let isMultiple = useBoolean(query.get('multiple') === '1' ? true : false)\r\n    let dateTime = new Date()\r\n    dateTime = dateTime.setDate(dateTime.getDate()+1);\r\n    dateTime = new Date(dateTime).toLocaleString()\r\n\r\n  function handleDeleteOption(idx){\r\n    if(options.length === 2){\r\n      return\r\n    }\r\n    setOptions(options.filter((_,index) => idx !==index))\r\n  }\r\n  async function createVote() {\r\n    try {\r\n      debugger\r\n      var res = await axios.post('/vote', {\r\n        title: title.value,\r\n        desc: desc.value,\r\n        options: options,\r\n        deadline: new Date(deadline).toISOString(),\r\n        anonymous: anonymous.value ? 1 : 0,\r\n        isMultiple: isMultiple.value ? 1 : 0,\r\n      })\r\n      history.push('/vote/'+res.data.voteId)\r\n    } catch (e) {\r\n      alert('创建失败' + e.toString())\r\n    }\r\n  }\r\n  function disabledDate(current){\r\n    return current <= moment().add(1,'days').startOf('day')\r\n  }\r\n  function DateOnChange(date,dateString){\r\n    // console.log('date+dateString',date,dateString)\r\n    setDeadline(dateString)\r\n  }\r\n  useEffect(() => {\r\n    setTimeout(\r\n      ()=>{\r\n        let Ul = document.getElementById('create-ul')\r\n        let Li = document.getElementsByClassName('create-li')\r\n        // console.log('ul', Ul)\r\n        // console.log('li', Li)\r\n        if (Li[0]) {\r\n          let h = Li[0].offsetHeight\r\n          h = h * Li.length\r\n          Ul.setAttribute('style', `height:${h}px;`);\r\n        }\r\n      },100\r\n    )\r\n  })\r\n\r\n  return (\r\n    <div className=\"create-votes\">\r\n      <h3>创建投票</h3>\r\n      <li className=\"cv-title\"><Input  type=\"text\" value={title.value} onChange={title.onChange} placeholder=\"投票标题\" /></li>\r\n      <li className=\"cv-desc\"><Input type=\"text\" value={desc.value} onChange={desc.onChange} placeholder=\"补充描述（选填）\" /></li>\r\n      <div id=\"create-ul\" style={{height:'110px'}}>\r\n        {//选项列表\r\n          options.map((it,idx) => {\r\n            return <li key={it,idx} className=\"create-li\">\r\n              <div className=\"redX\" onClick={() => handleDeleteOption(idx)}><MinusCircleFilled /></div>\r\n              < Input type = \"text\"\r\n              value={it}\r\n              placeholder = \"选项\"\r\n              onChange = {\r\n                (e) => {\r\n                 e.persist();setOptions([...options.slice(0, idx), e.target.value, ...options.slice(idx + 1)]);\r\n                }\r\n              }\r\n              />\r\n            </li>\r\n          })\r\n        }\r\n      </div>\r\n      <div className = \"setOptions\" onClick={() => setOptions([...options,''])}><PlusCircleFilled />点击添加选项</div>\r\n\r\n      <div id=\"cv-bottom\">\r\n      <li><span>截止日期：</span><DatePicker placeholder={dateTime} disabledDate={disabledDate} format=\"YYYY-MM-DD HH:mm:ss\" onChange={DateOnChange}/></li>\r\n      <li>匿名投票：\r\n        <Switch checkedChildren=\"开启\" unCheckedChildren=\"关闭\" checked={anonymous.valuechecked} onClick={anonymous.toggle}/></li>\r\n      <li id='multiple'>多选：\r\n        <Switch checkedChildren=\"开启\" unCheckedChildren=\"关闭\" checked={isMultiple.value} onClick={isMultiple.toggle}/>\r\n      </li>\r\n      </div>\r\n      <li className='create-now'><Button type=\"primary\" className=\"login-form-button\" onClick={createVote}>创建</Button></li>\r\n    </div>\r\n  )\r\n}\r\n","import React,{useState,useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport {useParams,useHistory,useLocation} from 'react-router-dom';\r\nimport './ViewVote.scss';\r\nimport {groupBy,uniqBy} from 'lodash'\r\nimport { Checkbox } from 'antd';\r\n\r\n//useParams可以获取匹配成功的路径的id\r\n\r\nexport default function ViewVote({userInfo}){\r\n  let {id} = useParams()  //问题的id\r\n  let [loading, setLoading] = useState(true) //加载中\r\n  let [voteInfo, setVoteInfo] = useState(null)\r\n  let [votings,setVotings] = useState(null)\r\n  let location = useLocation()\r\n  // let history = useHistory()\r\n  //需要group votings\r\n  let groupedVotings\r\n  let uniqueUsersCount\r\n  let thisVoting\r\n  if(!loading){\r\n    // console.dir('voteInfo:' + voteInfo)\r\n    uniqueUsersCount = uniqBy(voteInfo.votings,'userId').length\r\n    groupedVotings = groupBy(votings, 'optionId')\r\n    // console.log('groupedVotings:',groupedVotings)\r\n  }\r\n\r\n  useEffect(() => {\r\n    //拿到投票的相关信息\r\n    setVoteInfo(null)\r\n    setLoading(true)\r\n    axios.get(`/vote/${id}`).then((res) => {\r\n      // console.log('GET bug:', res)\r\n      setVoteInfo(res.data)\r\n      setVotings(res.data.votings)\r\n      setLoading(false)\r\n    })\r\n  }, [id])\r\n\r\n  useEffect(() => {\r\n    //用于接收某个vote的新的选票信息\r\n    if(voteInfo) {\r\n      if(Date.now() < new Date(voteInfo.deadline).getTime()){\r\n        console.log('ws 重新连接')\r\n        //eslint-disable-next-line\r\n        let ws = new WebSocket(`ws://${window.location.host}/vote/${id}`)\r\n        ws.onmessage = e =>{\r\n          setVotings(JSON.parse(e.data))\r\n        }\r\n        return () => ws.close()\r\n      }\r\n    }\r\n  },[id,voteInfo])\r\n\r\n  async function voteUp(optionId,hasVoted,Multiple){\r\n    if(Date.now() > new Date(voteInfo.deadline).getTime()){\r\n      alert('该投票已经过期')//这样做不好，应该换成div渐显 Modal(‘asdasdasd’)\r\n      return\r\n    }\r\n    // console.log('Multiple:',Multiple)\r\n    // console.log('hasvoted;',hasVoted)\r\n    //区分单选和多选。还要区分是否选过(!hasVoted)\r\n    if(Multiple){\r\n      if(!hasVoted){\r\n        thisVoting = {\r\n          id:-1,\r\n          optionId:optionId,\r\n          voteId: id,\r\n          userId: userInfo.id,\r\n          avatar:userInfo.avatar,\r\n        }\r\n        // console.log('-------------增加本次多选投票--------------')\r\n        setVotings([...votings,thisVoting])\r\n      }else{\r\n        let filterVotings = votings.filter(it => {\r\n          return !(it.userId === userInfo.id && optionId === it.optionId)\r\n        })\r\n        setVotings(filterVotings)\r\n      }\r\n    }else{\r\n      if(!hasVoted){\r\n        thisVoting = {\r\n          id:-1,\r\n          optionId:optionId,\r\n          voteId: id,\r\n          userId: userInfo.id,\r\n          avatar:userInfo.avatar,\r\n        }\r\n        // console.log('-------------增加本次单选投票--------------', thisVoting)\r\n        // console.log('-------------votings--------------', votings)\r\n        let filterVotings = votings.filter(it => {\r\n          return !(it.userId === userInfo.id)\r\n        })\r\n        // console.log('-----------------filter---------',filterVotings)\r\n        setVotings([...filterVotings,thisVoting])\r\n        // setVotings([...votings,thisVoting])\r\n      }else{\r\n        let filterVotings = votings.filter(it => {\r\n          return !(it.userId === userInfo.id && optionId === it.optionId)\r\n        })\r\n        setVotings(filterVotings)\r\n      }\r\n    }\r\n\r\n    await axios.post(`/voteup/${id}`,{\r\n      optionId,\r\n      isVoteDown:hasVoted\r\n    }).then(res => {\r\n\r\n    })\r\n    // console.log('post --- res.data:'+ res.data)\r\n    //单选时接收后台数据\r\n  }\r\n\r\n  if (loading) {\r\n    return <div>loading...</div>\r\n  }\r\n  // console.log('voteInfo:',voteInfo)\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"view-title\">{voteInfo.title}</h2>\r\n      <p className=\"view-desc\">{voteInfo.desc}\r\n      <span>{voteInfo.isMultiple ? '[多选]':'[单选]'}</span>\r\n      </p>\r\n      <ul>\r\n        {\r\n          //option有告诉我们是谁投的票,拿到数据进行计算\r\n          voteInfo.options.map((option) => {\r\n            let currVotings = groupedVotings[option.id] || [] //当前选项的每一票\r\n            // console.log('groupedVotings:',groupedVotings)\r\n            // console.log('currVotings', currVotings)\r\n            // console.log('userInfo:',userInfo,option)\r\n            let hasCurrUserVoted\r\n\r\n              hasCurrUserVoted = !!currVotings.find(it => it.userId === userInfo.id)\r\n\r\n            //这个选项是哪个用户投的\r\n            // console.log(\"hasCurrUserVoted:\",hasCurrUserVoted)\r\n\r\n            return  (<li className=\"view-vote-li\" key={option.id} onClick={() => voteUp(option.id,hasCurrUserVoted,voteInfo.isMultiple )}>\r\n                    <div className=\"bgc-white\">\r\n                      <div className=\"view-option\">\r\n                        <div>\r\n                          < Checkbox\r\n                          checked = {\r\n                            hasCurrUserVoted\r\n                          }\r\n                          />\r\n                          <span className=\"option-text\">{option.content}</span>\r\n                        </div>\r\n                          <strong>\r\n                          <span>{currVotings.length}票</span><span>{calcuRatio(currVotings.length , uniqueUsersCount)}%</span>\r\n                          </strong>\r\n                        <div className=\"option-ratio\" style={{width:calcuRatio(currVotings.length , uniqueUsersCount) + '%'}}></div>\r\n                      </div>\r\n                      </div>\r\n                      <ul className=\"avatars\">\r\n                        {\r\n                          currVotings.map(voting => {\r\n                            return <li key={voting.avatar}><img className=\"avatar\" src={voting.avatar} /></li>\r\n                          })\r\n                        }\r\n                      </ul>\r\n                    </li>)\r\n          })\r\n        }\r\n      </ul>\r\n      <p>投票截至：{new Date(voteInfo.deadline).toLocaleString()}</p>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\nfunction calcuRatio(num, base) {\r\n  if (base === 0) {\r\n    return 0\r\n  }\r\n  return num / base * 100 >= 100 ? 100.00 : (num / base * 100).toFixed(2)\r\n}\r\n","import React,{useRef} from 'react'\r\nimport axios from 'axios'\r\nimport {useHistory} from 'react-router-dom'\r\nimport {\r\n  UserOutlined,\r\n  LockOutlined,\r\n  MailOutlined,\r\n  LoadingOutlined,\r\n  PlusOutlined\r\n} from '@ant-design/icons';\r\nimport {Input,Button,Upload,message} from 'antd'\r\nimport './login.scss'\r\nimport './Register.scss'\r\n\r\n\r\nlet avatar = {}\r\nfunction getBase64(img, callback) {\r\n  const reader = new FileReader();\r\n  reader.addEventListener('load', () => callback(reader.result));\r\n  reader.readAsDataURL(img);\r\n}\r\n\r\nfunction beforeUpload(file) {\r\n  const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\r\n  avatar.file = file\r\n  if (!isJpgOrPng) {\r\n    message.error('You can only upload JPG/PNG file!');\r\n  }\r\n  const isLt2M = file.size / 1024 / 1024 < 2;\r\n  if (!isLt2M) {\r\n    message.error('Image must smaller than 2MB!');\r\n  }\r\n  avatar.file = file\r\n  return isJpgOrPng && isLt2M;\r\n}\r\n    class Avatar extends React.Component {\r\n  state = {\r\n    loading: false,\r\n  };\r\n\r\n  handleChange = info => {\r\n    if (info.file.status === 'uploading') {\r\n      this.setState({ loading: true });\r\n      return;\r\n    }\r\n    if (info.file.status === 'done') {\r\n      // Get this url from response in real world.\r\n      getBase64(info.file.originFileObj, imageUrl =>\r\n        this.setState({\r\n          imageUrl,\r\n          loading: false,\r\n        }),\r\n      );\r\n    }\r\n    console.log(avatar)\r\n  };\r\n\r\n  render() {\r\n    const { loading, imageUrl } = this.state;\r\n    const uploadButton = (\r\n      <div>\r\n        {loading ? <LoadingOutlined /> : <PlusOutlined />}\r\n        <div style={{ marginTop: 8 }}>Upload</div>\r\n      </div>\r\n    );\r\n    return (\r\n      <Upload\r\n        name=\"avatar\"\r\n        listType=\"picture-card\"\r\n        className=\"avatar-uploader\"\r\n        showUploadList={false}\r\n        action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\r\n        beforeUpload={beforeUpload}\r\n        onChange={this.handleChange}\r\n      >\r\n        {imageUrl ? <img src={imageUrl} alt=\"avatar\" style={{ width: '100%' }} /> : uploadButton}\r\n      </Upload>\r\n    );\r\n  }\r\n        }\r\n\r\n\r\nexport default function Register({setUserInfo}){\r\n  let nameRef = useRef(null)\r\n  let passwordRef = useRef(null)\r\n  let emailRef = useRef(null)\r\n  let history = useHistory()\r\n\r\n  async function handleRegister(e){\r\n    e.preventDefault()\r\n    let formData = new FormData()\r\n    formData.append('name', nameRef.current.state.value)\r\n    formData.append('password', passwordRef.current.state.value)\r\n    formData.append('email', emailRef.current.state.value)\r\n    formData.append('avatar', avatar.file)\r\n    if (nameRef.current.state.value === undefined || passwordRef.current.state.value === undefined\r\n        || emailRef.current.state.value === undefined){\r\n          alert('请填写完整注册信息')\r\n          return\r\n        }\r\n    try{\r\n        await axios.post('/register',formData).then(\r\n          function(response){\r\n            console.log(response)\r\n            alert('注册成功，请登录')\r\n            history.push('/Login')\r\n        })\r\n  } catch (e){\r\n    console.log(e)\r\n  }\r\n}\r\n  return(\r\n\r\n    <div id=\"register-father\">\r\n      <form id=\"register\" method=\"post\" action=\"/register\" encType=\"formdata/multipart\" >\r\n        <Input type=\"text\" ref={nameRef}\r\n        prefix={<UserOutlined  className=\"site-form-item-icon\"/>}\r\n        placeholder=\"用户名\"\r\n        />\r\n        <Input type=\"text\" ref={emailRef}\r\n         prefix={<MailOutlined className=\"site-form-item-icon\" />}\r\n         placeholder=\"邮箱\"\r\n         />\r\n        <Input type=\"password\" ref={passwordRef}\r\n         prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n         placeholder=\"密码\"\r\n         />\r\n        <Avatar name=\"avatar\"/>\r\n\r\n        <Button type=\"primary\" className=\"login-form-button\" onClick={handleRegister}>注册</Button>\r\n      </form>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\n\r\n","import React,{useEffect,useState} from 'react';\nimport './App.scss';\nimport {\n  Redirect,\n  Route,\n  Switch,\n  useHistory,\n}from 'react-router-dom'\nimport axios from 'axios'\nimport Home from './Home'\nimport Login from './Login'\nimport CreateVote from './CreateVote'\nimport ViewVote from './ViewVote'\nimport Register from './Register'\n\nfunction App() {\n  let history = useHistory()\n  let [userInfo,setUserInfo] = useState({})\n  useEffect(() => { //useEffect 传空数组只渲染一次\n    axios.get('/userinfo').then(res => {\n      // console.log(res.data)\n      setUserInfo(res.data)\n    }).catch(e => {\n      // console.log('未登录,将显示登陆界面')\n      history.push('/login')\n    })\n  },[])\n\n  return (\n      <div className=\"App\">\n      <Switch>\n        <Route path=\"/\" exact>\n          <Redirect to=\"home\"></Redirect>\n        </Route>\n\n        <Route path=\"/login\">\n          <Login setUserInfo={setUserInfo}/>\n        </Route>\n        <Route path=\"/register\">\n          <Register />\n        </Route>\n        <Route path=\"/home\">\n          {\n            userInfo &&\n          <Home userInfo={userInfo}  setUserInfo={setUserInfo}/>\n          }\n        </Route>\n        <Route path=\"/create-vote\">\n          <CreateVote />\n        </Route>\n        <Route path=\"/vote/:id\">\n          {\n            userInfo &&\n          <ViewVote userInfo={userInfo}/>\n          }\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {HashRouter} from 'react-router-dom'\nReactDOM.render(\n  <React.StrictMode>\n     <HashRouter>\n       <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}